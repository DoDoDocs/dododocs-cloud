name: Discord DailyScrum alarm

on:
  # schedule:
  #   - cron: "10 23 * * *" 
  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰ ì¶”ê°€

jobs:
  daily-scrum:
    runs-on: ubuntu-latest
    steps:
      - name: Set timezone to KST
        run: sudo timedatectl set-timezone Asia/Seoul

      - name: Print current time (KST)
        run: date

      - name: Check if today is a weekday
        id: check_weekday
        run: |
          day=$(date +%u)
          if [ "$day" -ge 6 ]; then
            echo "Weekend detected."
            echo "::set-output name=weekend::true"
            exit 0
          else
            echo "::set-output name=weekend::false"
          fi

      - name: Discord Webhook Action
        if: steps.check_weekday.outputs.weekend == 'false'
        uses: tsickert/discord-webhook@v6.0.0
        with:
          webhook-url: ${{ secrets.DISCORD_WEBHOOK }}
          content: |
            ## â° ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ â°

            ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ë Œì§€ í­ì£¼ì¡±! ğŸŠ
            ì˜¤ëŠ˜ë„ í™œê¸°ì°¨ê²Œ í•˜ë£¨ë¥¼ ì‹œì‘í•´ ë´…ì‹œë‹¤!!
            ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì„ ìŠì§€ ë§ˆì‹œê³ , **ì˜¤ì „ 10ì‹œ ì „ê¹Œì§€** ìŠ¤ë ˆë“œì— ì‘ì„± ë¶€íƒë“œë¦½ë‹ˆë‹¤! ğŸ“

            ëª¨ë‘ì˜ ë©‹ì§„ í•˜ë£¨ë¥¼ ì‘ì›í•©ë‹ˆë‹¤! ğŸ’ª

            ğŸ—“ **Jira íƒ€ì„ë¼ì¸**: [ë§í¬](https://hesushim.atlassian.net/jira/software/projects/DDD/boards/3/timeline)
